<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - Class com.bjond.rules.compiler.RuleCompilerTests</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>Class com.bjond.rules.compiler.RuleCompilerTests</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/com.bjond.rules.compiler.html">com.bjond.rules.compiler</a> &gt; RuleCompilerTests</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">31</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">1.865s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">assessmentQuestionResponseTime1</td>
<td>0.021s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">test20150818_AllSections</td>
<td>0.030s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">test20150818_Section</td>
<td>0.026s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testAssessmentQuestionResponse1</td>
<td>0.023s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testAssessmentQuestionResponseWithEvent</td>
<td>0.021s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testBasicAnd</td>
<td>0.024s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testBasicOr</td>
<td>0.023s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testChris_20150813</td>
<td>0.023s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testChris_20151102</td>
<td>0.023s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testClaimWithEvent</td>
<td>0.021s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testClient_20150812_1</td>
<td>0.027s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testClient_20150812_2</td>
<td>0.025s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testClient_20150812_3</td>
<td>0.025s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testClient_20150812_4</td>
<td>0.024s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testClient_20150812_5</td>
<td>0.024s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testClient_20150812_6</td>
<td>0.023s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testClient_20150812_7</td>
<td>0.022s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testClient_20150812_8</td>
<td>0.023s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCompileQuestion</td>
<td>0.027s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCompileQuestionWithEvent</td>
<td>0.029s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCompileTag</td>
<td>0.024s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCompileTagWithEvent</td>
<td>1.183s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCompileTask</td>
<td>0.020s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testCompileTaskWithEvent</td>
<td>0.027s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testDeserializationWithoutOrder</td>
<td>0.011s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testInpatientWithEvent</td>
<td>0.024s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testNestedAndOr</td>
<td>0.022s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testPerson</td>
<td>0.020s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testPersonWithEvent</td>
<td>0.020s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testQuestionTimeConstraint1</td>
<td>0.026s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">testQuestionTimeConstraint_Negative1</td>
<td>0.004s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;tagRule2&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Tag&quot;,
    &quot;event&quot; : true,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Tags&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;order&quot; : 0,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1111111111&quot;,
        &quot;order&quot; : 0,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;value&quot; : &quot;2222222222&quot;,
        &quot;order&quot; : 1,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;order&quot; : 1,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'tagRule2'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  (
    eval( DroolsStaticFunctions.containsAll($Primary_Person.tagids, '1111111111', '2222222222') )
    and
    eval( $_collector.addPerson( ( $_eventX.isEventData($Primary_Person) &amp;&amp; $_eventX.intersectsWithAddedTags('1111111111', '2222222222') ) , '&lt;&lt;fake_rule_ID&gt;&gt;', $Primary_Person, '$Primary_Person') )
  )
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_id&gt;&gt;&quot;,
  &quot;name&quot; : &quot;taskRule1&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Secondary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Task&quot;,
    &quot;event&quot; : true,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1234567890&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;AffiliatedRecord&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Recipient&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;variable&quot; : &quot;Secondary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;State&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;ClosedSuccessfully&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ {
    &quot;type&quot; : &quot;AddTag&quot;,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Tags&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;HAPPY&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;type&quot; : &quot;AddTag&quot;,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;variable&quot; : &quot;Secondary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Tags&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;SMILEY&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'taskRule1'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $Secondary_Person : Person()
  $_eventX : IRuleEvent()
  (
    $task0 : Task(parentTemplateID == '1234567890', affiliatedRecordsList contains $Primary_Person.id, recipientList contains $Secondary_Person.userId, lifeCycleState == com.bjond.persistence.task.BjondTask.TASK_LIFECYCLE_STATES.Closed, resolutionState == com.bjond.persistence.task.BjondTask.TASK_RESOLUTION.Success)
    and
    eval( $_collector.addPerson($_eventX.isEventData($task0), '&lt;&lt;fake_rule_id&gt;&gt;', $Primary_Person, '$Primary_Person', $Secondary_Person, '$Secondary_Person') )
  )
then
  $_collector.addTag('&lt;&lt;fake_rule_id&gt;&gt;', $Primary_Person, '$Primary_Person', 'HAPPY')
  $_collector.addTag('&lt;&lt;fake_rule_id&gt;&gt;', $Secondary_Person, '$Secondary_Person', 'SMILEY')
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;AssessmentScore&quot;,
    &quot;event&quot; : true,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;3e18bbac-1d75-42cd-8903-23c4687e937a&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Section&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;AllSections&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Score&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'null'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $_eventX : IRuleEvent(    $event1 : AssessmentEvent(getEventData().getId() == $assessment0.id)
)
  $assessment0 : IAssessment(parentTemplateID == '3e18bbac-1d75-42cd-8903-23c4687e937a', isAbout($Primary_Person), assessmentScore == 1)
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;questionRule2&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;QuestionResponse&quot;,
    &quot;event&quot; : true,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;order&quot; : 0,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1234567890&quot;,
        &quot;order&quot; : 0,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;order&quot; : 1,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Response&quot;,
      &quot;order&quot; : 2,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Yes&quot;,
        &quot;order&quot; : 0,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ {
    &quot;type&quot; : &quot;AddTag&quot;,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;order&quot; : 0,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Tags&quot;,
      &quot;order&quot; : 1,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1111&quot;,
        &quot;order&quot; : 0,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;value&quot; : &quot;2222&quot;,
        &quot;order&quot; : 1,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;order&quot; : 0,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'questionRule2'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  (
    $question0 : Question(ultimateParentTemplateID == '1234567890', isAbout($Primary_Person.id), userResponses('Yes'))
    and
    eval( $_collector.addPerson($_eventX.eventDataContainsQuestion($question0), '&lt;&lt;fake_rule_ID&gt;&gt;', $Primary_Person, '$Primary_Person') )
  )
then
  $_collector.addTag('&lt;&lt;fake_rule_ID&gt;&gt;', $Primary_Person, '$Primary_Person', '1111', '2222')
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;tagRule1&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Tag&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Tags&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;order&quot; : 0,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1111111111&quot;,
        &quot;order&quot; : 0,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;value&quot; : &quot;2222222222&quot;,
        &quot;order&quot; : 1,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;order&quot; : 1,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'tagRule1'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  eval( DroolsStaticFunctions.containsAll($Primary_Person.tagids, '1111111111', '2222222222') )
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;questionTimeConstraint1&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;QuestionResponse&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1234567890&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Response&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Yes&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Time&quot;,
      &quot;operator&quot; : &quot;AfterSpan&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;6&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;value&quot; : &quot;WEEKS&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ {
    &quot;type&quot; : &quot;AddTag&quot;,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Tags&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1111&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;value&quot; : &quot;2222&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'questionTimeConstraint1'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  $question0 : Question(ultimateParentTemplateID == '1234567890', isAbout($Primary_Person.id), userResponses('Yes'), lastModifiedAfterTimeSpanAgo(6, TimeUnit.WEEKS))
then
  $_collector.addTag('&lt;&lt;fake_rule_ID&gt;&gt;', $Primary_Person, '$Primary_Person', '1111', '2222')
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Task_Recipient_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Task&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;51&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;State&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;ClosedSuccessfully&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;AffiliatedRecord&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Recipient&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;variable&quot; : &quot;Task_Recipient_A&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'null'
when
  $_collector : Collector()
  $Task_Recipient_A : Person()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  $task0 : Task(parentTemplateID == '51', lifeCycleState == com.bjond.persistence.task.BjondTask.TASK_LIFECYCLE_STATES.Closed, resolutionState == com.bjond.persistence.task.BjondTask.TASK_RESOLUTION.Success, affiliatedRecordsList contains $Primary_Person.id, recipientList contains $Task_Recipient_A.userId)
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Task_Recipient_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Task&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;51&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;State&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Started&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Overdue&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;true&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'null'
when
  $_collector : Collector()
  $Task_Recipient_A : Person()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  $task0 : Task(parentTemplateID == '51', lifeCycleState == com.bjond.persistence.task.BjondTask.TASK_LIFECYCLE_STATES.Started, isOverdue == true)
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Person_With_Tag_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Tag&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Tags&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;fff1bdda-9e33-43c3-bbbb-a584006e8bef&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;value&quot; : &quot;1231bdda-9e33-43c3-bbbb-a584006e8abc&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;type&quot; : &quot;Tag&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Person_With_Tag_A&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Tags&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;dda1bdda-9e33-43c3-bbbb-a584006e8567&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'null'
when
  $_collector : Collector()
  $Person_With_Tag_A : Person()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  eval( DroolsStaticFunctions.containsAll($Primary_Person.tagids, 'fff1bdda-9e33-43c3-bbbb-a584006e8bef', '1231bdda-9e33-43c3-bbbb-a584006e8abc') )
  eval( DroolsStaticFunctions.containsAll($Person_With_Tag_A.tagids, 'dda1bdda-9e33-43c3-bbbb-a584006e8567') )
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Person_With_Tag_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Care_Manager_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Person&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Relationship&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;variable&quot; : &quot;Care_Manager_A&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;ManagedByPlaceholderForID&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'null'
when
  $_collector : Collector()
  $Person_With_Tag_A : Person()
  $Primary_Person : Person()
  $Care_Manager_A : Person()
  $_eventX : IRuleEvent()
  eval( DroolsStaticFunctions.relationshipExists($Primary_Person.id, 'ManagedByPlaceholderForID', $Care_Manager_A.id) )
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Person_With_Tag_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Care_Manager_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;QuestionResponse&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1718737449180760&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Response&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Work hard.&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'null'
when
  $_collector : Collector()
  $Person_With_Tag_A : Person()
  $Primary_Person : Person()
  $Care_Manager_A : Person()
  $_eventX : IRuleEvent()
  $question0 : Question(ultimateParentTemplateID == '1718737449180760', isAbout($Primary_Person.id), userResponses('Work hard.'))
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Person_With_Tag_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Care_Manager_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;AssessmentQuestion&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;3e18bbac-1d75-42cd-8903-23c4687e937a&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;QuestionID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1718737449180744&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Response&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Play hard.&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'null'
when
  $_collector : Collector()
  $Person_With_Tag_A : Person()
  $Primary_Person : Person()
  $Care_Manager_A : Person()
  $_eventX : IRuleEvent()
  $question0 : Question(parentTemplateID == '1718737449180744', userResponses('Play hard.'), isInAssessment($Primary_Person.id, '3e18bbac-1d75-42cd-8903-23c4687e937a'))
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Person_With_Tag_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Care_Manager_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;AssessmentScore&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;3e18bbac-1d75-42cd-8903-23c4687e937a&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Section&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;AllSections&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Score&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;42&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'null'
when
  $_collector : Collector()
  $Person_With_Tag_A : Person()
  $Primary_Person : Person()
  $Care_Manager_A : Person()
  $_eventX : IRuleEvent()
  $assessment0 : IAssessment(parentTemplateID == '3e18bbac-1d75-42cd-8903-23c4687e937a', isAbout($Primary_Person), assessmentScore == 42)
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Person_With_Tag_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Care_Manager_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;AssessmentScore&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;3e18bbac-1d75-42cd-8903-23c4687e937a&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Section&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;6133bf2d-377f-4788-87da-655d128c6fcf&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Score&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;56&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'null'
when
  $_collector : Collector()
  $Person_With_Tag_A : Person()
  $Primary_Person : Person()
  $Care_Manager_A : Person()
  $_eventX : IRuleEvent()
  $assessment0 : IAssessment(parentTemplateID == '3e18bbac-1d75-42cd-8903-23c4687e937a', isAbout($Primary_Person), findSectionScore('6133bf2d-377f-4788-87da-655d128c6fcf') == 56)
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Doctor_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Task&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;51&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;State&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Started&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;LateStart&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;true&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;AffiliatedRecord&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Recipient&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;variable&quot; : &quot;Doctor_A&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;type&quot; : &quot;Tag&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Tags&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;fff1bdda-9e33-43c3-bbbb-a584006e8bef&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;type&quot; : &quot;QuestionResponse&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1664195188018898&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Response&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Play hard.&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;type&quot; : &quot;AssessmentQuestion&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;3e18bbac-1d75-42cd-8903-23c4687e937a&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;QuestionID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1664195188018888&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Response&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Not Sure&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ {
    &quot;type&quot; : &quot;AssignTask&quot;,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;TaskID&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;51&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Recipient&quot;,
      &quot;variable&quot; : &quot;Doctor_A&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;AffiliatedRecord&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;type&quot; : &quot;AddTag&quot;,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;variable&quot; : &quot;Doctor_A&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Tags&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1231bdda-9e33-43c3-bbbb-a584006e8abc&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'null'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $Doctor_A : Person()
  $_eventX : IRuleEvent()
  $task0 : Task(parentTemplateID == '51', lifeCycleState == com.bjond.persistence.task.BjondTask.TASK_LIFECYCLE_STATES.Started, isLateStart == true, affiliatedRecordsList contains $Primary_Person.id, recipientList contains $Doctor_A.userId)
  eval( DroolsStaticFunctions.containsAll($Primary_Person.tagids, 'fff1bdda-9e33-43c3-bbbb-a584006e8bef') )
  $question1 : Question(ultimateParentTemplateID == '1664195188018898', isAbout($Primary_Person.id), userResponses('Play hard.'))
  $question2 : Question(parentTemplateID == '1664195188018888', userResponses('Not Sure'), isInAssessment($Primary_Person.id, '3e18bbac-1d75-42cd-8903-23c4687e937a'))
then
  $_collector.addTask('&lt;&lt;fake_rule_ID&gt;&gt;', '51', $Doctor_A, '$Doctor_A', $Primary_Person, '$Primary_Person')
  $_collector.addTag('&lt;&lt;fake_rule_ID&gt;&gt;', $Doctor_A, '$Doctor_A', '1231bdda-9e33-43c3-bbbb-a584006e8abc')
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;And&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ ],
    &quot;conditions&quot; : [ {
      &quot;type&quot; : &quot;Task&quot;,
      &quot;event&quot; : true,
      &quot;exists&quot; : false,
      &quot;constraints&quot; : [ {
        &quot;type&quot; : &quot;ParentTemplateID&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;d6a9aec2-8196-11e5-ad31-cc4820524153&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;State&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;ClosedSuccessfully&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;AffiliatedRecord&quot;,
        &quot;operator&quot; : &quot;ContainsAll&quot;,
        &quot;variable&quot; : &quot;Primary_Person&quot;,
        &quot;arguments&quot; : [ ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;conditions&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;AssessmentQuestion&quot;,
      &quot;event&quot; : false,
      &quot;exists&quot; : true,
      &quot;constraints&quot; : [ {
        &quot;type&quot; : &quot;ParentTemplateID&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;c8781b32-8196-11e5-ad31-cc4820524153&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;Person&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;variable&quot; : &quot;Primary_Person&quot;,
        &quot;arguments&quot; : [ ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;QuestionID&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;c43f5381-8196-11e5-ad31-cc4820524153&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;Response&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;0&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;Time&quot;,
        &quot;operator&quot; : &quot;AfterSpan&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;1&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        }, {
          &quot;value&quot; : &quot;Minutes&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;conditions&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ {
    &quot;type&quot; : &quot;AssignTask&quot;,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;TaskID&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;8518d08f-734d-11e5-9677-cc4820524153&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Recipient&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;AffiliatedRecord&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'null'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  (
    (
      $task0 : Task(parentTemplateID == 'd6a9aec2-8196-11e5-ad31-cc4820524153', lifeCycleState == com.bjond.persistence.task.BjondTask.TASK_LIFECYCLE_STATES.Closed, resolutionState == com.bjond.persistence.task.BjondTask.TASK_RESOLUTION.Success, affiliatedRecordsList contains $Primary_Person.id)
      and
      eval( $_collector.addPerson($_eventX.isEventData($task0), '&lt;&lt;fake_rule_ID&gt;&gt;', $Primary_Person, '$Primary_Person') )
    )
    and
    exists $question1 : Question(parentTemplateID == 'c43f5381-8196-11e5-ad31-cc4820524153', userResponses('0'), isInAssessment($Primary_Person.id, 'c8781b32-8196-11e5-ad31-cc4820524153'), lastModifiedAfterTimeSpanAgo(1, TimeUnit.MINUTES))
  )
then
  $_collector.addTask('&lt;&lt;fake_rule_ID&gt;&gt;', '8518d08f-734d-11e5-9677-cc4820524153', $Primary_Person, '$Primary_Person', $Primary_Person, '$Primary_Person')
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;taskRule1&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;order&quot; : 0,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Secondary_Person&quot;,
    &quot;order&quot; : 1,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Task&quot;,
    &quot;event&quot; : true,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;order&quot; : 0,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1234567890&quot;,
        &quot;order&quot; : 0,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;AffiliatedRecord&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;order&quot; : 1,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Recipient&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;variable&quot; : &quot;Secondary_Person&quot;,
      &quot;order&quot; : 2,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;State&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;order&quot; : 3,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;ClosedSuccessfully&quot;,
        &quot;order&quot; : 1,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ {
    &quot;type&quot; : &quot;AssignTask&quot;,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;TaskID&quot;,
      &quot;order&quot; : 0,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;51&quot;,
        &quot;order&quot; : 0,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Recipient&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;order&quot; : 1,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;AffiliatedRecord&quot;,
      &quot;variable&quot; : &quot;Secondary_Person&quot;,
      &quot;order&quot; : 2,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'taskRule1'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $Secondary_Person : Person()
  $_eventX : IRuleEvent()
  (
    $task0 : Task(parentTemplateID == '1234567890', affiliatedRecordsList contains $Primary_Person.id, recipientList contains $Secondary_Person.userId, lifeCycleState == com.bjond.persistence.task.BjondTask.TASK_LIFECYCLE_STATES.Closed, resolutionState == com.bjond.persistence.task.BjondTask.TASK_RESOLUTION.Success)
    and
    eval( $_collector.addPerson($_eventX.isEventData($task0), '&lt;&lt;fake_rule_ID&gt;&gt;', $Primary_Person, '$Primary_Person', $Secondary_Person, '$Secondary_Person') )
  )
then
  $_collector.addTask('&lt;&lt;fake_rule_ID&gt;&gt;', '51', $Primary_Person, '$Primary_Person', $Secondary_Person, '$Secondary_Person')
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;basic AND&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Patient&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Assignee&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;And&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ ],
    &quot;conditions&quot; : [ {
      &quot;type&quot; : &quot;Task&quot;,
      &quot;event&quot; : false,
      &quot;exists&quot; : false,
      &quot;constraints&quot; : [ {
        &quot;type&quot; : &quot;ParentTemplateID&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;&lt;&lt;task1Template&gt;&gt;&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;AffiliatedRecord&quot;,
        &quot;operator&quot; : &quot;ContainsAll&quot;,
        &quot;variable&quot; : &quot;Patient&quot;,
        &quot;arguments&quot; : [ ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;State&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;ClosedSuccessfully&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;conditions&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Task&quot;,
      &quot;event&quot; : false,
      &quot;exists&quot; : false,
      &quot;constraints&quot; : [ {
        &quot;type&quot; : &quot;ParentTemplateID&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;&lt;&lt;task2Template&gt;&gt;&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;Recipient&quot;,
        &quot;operator&quot; : &quot;ContainsAll&quot;,
        &quot;variable&quot; : &quot;Assignee&quot;,
        &quot;arguments&quot; : [ ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;AffiliatedRecord&quot;,
        &quot;operator&quot; : &quot;ContainsAll&quot;,
        &quot;variable&quot; : &quot;Patient&quot;,
        &quot;arguments&quot; : [ ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;State&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;ClosedSuccessfully&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;conditions&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'basic AND'
when
  $_collector : Collector()
  $Assignee : Person()
  $Patient : Person()
  $_eventX : IRuleEvent()
  (
    $task0 : Task(parentTemplateID == '&lt;&lt;task1Template&gt;&gt;', affiliatedRecordsList contains $Patient.id, lifeCycleState == com.bjond.persistence.task.BjondTask.TASK_LIFECYCLE_STATES.Closed, resolutionState == com.bjond.persistence.task.BjondTask.TASK_RESOLUTION.Success)
    and
    $task1 : Task(parentTemplateID == '&lt;&lt;task2Template&gt;&gt;', recipientList contains $Assignee.userId, affiliatedRecordsList contains $Patient.id, lifeCycleState == com.bjond.persistence.task.BjondTask.TASK_LIFECYCLE_STATES.Closed, resolutionState == com.bjond.persistence.task.BjondTask.TASK_RESOLUTION.Success)
  )
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;basic OR&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Patient&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Assignee&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Or&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ ],
    &quot;conditions&quot; : [ {
      &quot;type&quot; : &quot;Task&quot;,
      &quot;event&quot; : false,
      &quot;exists&quot; : false,
      &quot;constraints&quot; : [ {
        &quot;type&quot; : &quot;ParentTemplateID&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;&lt;&lt;task1Template&gt;&gt;&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;AffiliatedRecord&quot;,
        &quot;operator&quot; : &quot;ContainsAll&quot;,
        &quot;variable&quot; : &quot;Patient&quot;,
        &quot;arguments&quot; : [ ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;State&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;ClosedSuccessfully&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;conditions&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Task&quot;,
      &quot;event&quot; : false,
      &quot;exists&quot; : false,
      &quot;constraints&quot; : [ {
        &quot;type&quot; : &quot;ParentTemplateID&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;&lt;&lt;task2Template&gt;&gt;&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;Recipient&quot;,
        &quot;operator&quot; : &quot;ContainsAll&quot;,
        &quot;variable&quot; : &quot;Assignee&quot;,
        &quot;arguments&quot; : [ ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;AffiliatedRecord&quot;,
        &quot;operator&quot; : &quot;ContainsAll&quot;,
        &quot;variable&quot; : &quot;Patient&quot;,
        &quot;arguments&quot; : [ ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;State&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;ClosedSuccessfully&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;conditions&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'basic OR'
when
  $_collector : Collector()
  $Assignee : Person()
  $Patient : Person()
  $_eventX : IRuleEvent()
  (
    $task0 : Task(parentTemplateID == '&lt;&lt;task1Template&gt;&gt;', affiliatedRecordsList contains $Patient.id, lifeCycleState == com.bjond.persistence.task.BjondTask.TASK_LIFECYCLE_STATES.Closed, resolutionState == com.bjond.persistence.task.BjondTask.TASK_RESOLUTION.Success)
    or
    $task1 : Task(parentTemplateID == '&lt;&lt;task2Template&gt;&gt;', recipientList contains $Assignee.userId, affiliatedRecordsList contains $Patient.id, lifeCycleState == com.bjond.persistence.task.BjondTask.TASK_LIFECYCLE_STATES.Closed, resolutionState == com.bjond.persistence.task.BjondTask.TASK_RESOLUTION.Success)
  )
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;Assessment Question Response 1&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;AssessmentQuestion&quot;,
    &quot;event&quot; : true,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;3e18bbac-1d75-42cd-8903-23c4687e937a&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;QuestionID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1335240188728383&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Response&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Luke Wilson&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'Assessment Question Response 1'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  (
    $question0 : Question(parentTemplateID == '1335240188728383', userResponses('Luke Wilson'), isInAssessment($Primary_Person.id, '3e18bbac-1d75-42cd-8903-23c4687e937a'))
    and
    eval( $_collector.addPerson($_eventX.eventDataContainsQuestion($question0), '&lt;&lt;fake_rule_ID&gt;&gt;', $Primary_Person, '$Primary_Person') )
  )
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;Assessment Question Response 1&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;AssessmentQuestion&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;3e18bbac-1d75-42cd-8903-23c4687e937a&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;QuestionID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1335240188728383&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Response&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Luke Wilson&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Time&quot;,
      &quot;operator&quot; : &quot;AfterSpan&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;6&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;value&quot; : &quot;WEEKS&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'Assessment Question Response 1'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  $question0 : Question(parentTemplateID == '1335240188728383', userResponses('Luke Wilson'), isInAssessment($Primary_Person.id, '3e18bbac-1d75-42cd-8903-23c4687e937a'), lastModifiedAfterTimeSpanAgo(6, TimeUnit.WEEKS))
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;questionRule1&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;QuestionResponse&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;order&quot; : 0,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1234567890&quot;,
        &quot;order&quot; : 0,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;order&quot; : 1,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Response&quot;,
      &quot;order&quot; : 2,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Yes&quot;,
        &quot;order&quot; : 0,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ {
    &quot;type&quot; : &quot;AddTag&quot;,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;order&quot; : 0,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Tags&quot;,
      &quot;order&quot; : 1,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1111&quot;,
        &quot;order&quot; : 0,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;value&quot; : &quot;2222&quot;,
        &quot;order&quot; : 1,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;order&quot; : 0,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'questionRule1'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  $question0 : Question(ultimateParentTemplateID == '1234567890', isAbout($Primary_Person.id), userResponses('Yes'))
then
  $_collector.addTag('&lt;&lt;fake_rule_ID&gt;&gt;', $Primary_Person, '$Primary_Person', '1111', '2222')
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;AssessmentScore&quot;,
    &quot;event&quot; : true,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;3e18bbac-1d75-42cd-8903-23c4687e937a&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Section&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;6133bf2d-377f-4888-87da-655d128c6fcf&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Score&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'null'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $_eventX : IRuleEvent(    $event1 : AssessmentEvent(getEventData().getId() == $assessment0.id)
)
  $assessment0 : IAssessment(parentTemplateID == '3e18bbac-1d75-42cd-8903-23c4687e937a', isAbout($Primary_Person), findSectionScore('6133bf2d-377f-4888-87da-655d128c6fcf') == 1)
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;claimRule1&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Inpatient&quot;,
    &quot;event&quot; : true,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Action&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Admission&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Department&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;123456&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Hospital&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;234567&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'claimRule1'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  (
    $inpatient0 : IInpatientEvent(personID == $Primary_Person.id, eventAction == com.bjond.persistence.interfaces.IInpatientEvent.EVENT_ACTION.Admission, department == '123456', hospital == '234567')
    and
    eval( $_collector.addPerson($_eventX.isEventData($inpatient0), '&lt;&lt;fake_rule_ID&gt;&gt;', $Primary_Person, '$Primary_Person') )
  )
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;personRule2&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Person_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Person&quot;,
    &quot;event&quot; : true,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Relationship&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;variable&quot; : &quot;Person_A&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;ManagedByPlaceholderForID&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'personRule2'
when
  $_collector : Collector()
  $Person_A : Person()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  (
    eval( DroolsStaticFunctions.relationshipExists($Primary_Person.id, 'ManagedByPlaceholderForID', $Person_A.id) )
    and
    eval( $_collector.addPerson( ( $_eventX.isEventData($Primary_Person) &amp;&amp; $_eventX.intersectsWithAddedRelationships(DroolsStaticFunctions.findRelationships($Primary_Person.id, 'ManagedByPlaceholderForID', $Person_A.id)) ) , '&lt;&lt;fake_rule_ID&gt;&gt;', $Person_A, '$Person_A', $Primary_Person, '$Primary_Person') )
  )
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;Assessment Question Response 2&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;AssessmentQuestion&quot;,
    &quot;event&quot; : true,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;3e18bbac-1d75-42cd-8903-23c4687e937a&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;QuestionID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1335240188728383&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Response&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Luke Wilson&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'Assessment Question Response 2'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  (
    $question0 : Question(parentTemplateID == '1335240188728383', userResponses('Luke Wilson'), isInAssessment($Primary_Person.id, '3e18bbac-1d75-42cd-8903-23c4687e937a'))
    and
    eval( $_collector.addPerson($_eventX.eventDataContainsQuestion($question0), '&lt;&lt;fake_rule_ID&gt;&gt;', $Primary_Person, '$Primary_Person') )
  )
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;claimRule1&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Claim&quot;,
    &quot;event&quot; : true,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;NDC&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;345678&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'claimRule1'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  (
    $claim0 : IClaimEvent(personID == $Primary_Person.id, code contains '345678')
    and
    eval( $_collector.addPerson($_eventX.isEventData($claim0), '&lt;&lt;fake_rule_ID&gt;&gt;', $Primary_Person, '$Primary_Person') )
  )
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;taskRule1&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;order&quot; : 0,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Secondary_Person&quot;,
    &quot;order&quot; : 1,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Task&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;order&quot; : 0,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1234567890&quot;,
        &quot;order&quot; : 0,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;AffiliatedRecord&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;order&quot; : 1,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Recipient&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;variable&quot; : &quot;Secondary_Person&quot;,
      &quot;order&quot; : 2,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;State&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;order&quot; : 3,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;ClosedSuccessfully&quot;,
        &quot;order&quot; : 1,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ {
    &quot;type&quot; : &quot;AssignTask&quot;,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;TaskID&quot;,
      &quot;order&quot; : 0,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;51&quot;,
        &quot;order&quot; : 0,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Recipient&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;order&quot; : 1,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;AffiliatedRecord&quot;,
      &quot;variable&quot; : &quot;Secondary_Person&quot;,
      &quot;order&quot; : 2,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'taskRule1'
when
  $_collector : Collector()
  $Primary_Person : Person()
  $Secondary_Person : Person()
  $_eventX : IRuleEvent()
  $task0 : Task(parentTemplateID == '1234567890', affiliatedRecordsList contains $Primary_Person.id, recipientList contains $Secondary_Person.userId, lifeCycleState == com.bjond.persistence.task.BjondTask.TASK_LIFECYCLE_STATES.Closed, resolutionState == com.bjond.persistence.task.BjondTask.TASK_RESOLUTION.Success)
then
  $_collector.addTask('&lt;&lt;fake_rule_ID&gt;&gt;', '51', $Primary_Person, '$Primary_Person', $Secondary_Person, '$Secondary_Person')
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;personRule1&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Person_A&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Person&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Relationship&quot;,
      &quot;operator&quot; : &quot;ContainsAll&quot;,
      &quot;variable&quot; : &quot;Person_A&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;ManagedByPlaceholderForID&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'personRule1'
when
  $_collector : Collector()
  $Person_A : Person()
  $Primary_Person : Person()
  $_eventX : IRuleEvent()
  eval( DroolsStaticFunctions.relationshipExists($Primary_Person.id, 'ManagedByPlaceholderForID', $Person_A.id) )
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;nested AND/OR&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Patient&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  }, {
    &quot;name&quot; : &quot;Assignee&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;Or&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ ],
    &quot;conditions&quot; : [ {
      &quot;type&quot; : &quot;Task&quot;,
      &quot;event&quot; : false,
      &quot;exists&quot; : false,
      &quot;constraints&quot; : [ {
        &quot;type&quot; : &quot;ParentTemplateID&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;&lt;&lt;task1Template&gt;&gt;&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;AffiliatedRecord&quot;,
        &quot;operator&quot; : &quot;ContainsAll&quot;,
        &quot;variable&quot; : &quot;Patient&quot;,
        &quot;arguments&quot; : [ ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;State&quot;,
        &quot;operator&quot; : &quot;Equals&quot;,
        &quot;arguments&quot; : [ {
          &quot;value&quot; : &quot;ClosedSuccessfully&quot;,
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;conditions&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;And&quot;,
      &quot;event&quot; : false,
      &quot;exists&quot; : false,
      &quot;constraints&quot; : [ ],
      &quot;conditions&quot; : [ {
        &quot;type&quot; : &quot;Person&quot;,
        &quot;event&quot; : false,
        &quot;exists&quot; : false,
        &quot;constraints&quot; : [ {
          &quot;type&quot; : &quot;Person&quot;,
          &quot;operator&quot; : &quot;Equals&quot;,
          &quot;variable&quot; : &quot;Patient&quot;,
          &quot;arguments&quot; : [ ],
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        }, {
          &quot;type&quot; : &quot;Relationship&quot;,
          &quot;operator&quot; : &quot;ContainsAll&quot;,
          &quot;variable&quot; : &quot;Assignee&quot;,
          &quot;arguments&quot; : [ {
            &quot;value&quot; : &quot;ManagedByPlaceholderForID&quot;,
            &quot;isTemplate&quot; : false,
            &quot;objectversion&quot; : &quot;1.0&quot;
          } ],
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;conditions&quot; : [ ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;type&quot; : &quot;Task&quot;,
        &quot;event&quot; : false,
        &quot;exists&quot; : false,
        &quot;constraints&quot; : [ {
          &quot;type&quot; : &quot;ParentTemplateID&quot;,
          &quot;operator&quot; : &quot;Equals&quot;,
          &quot;arguments&quot; : [ {
            &quot;value&quot; : &quot;&lt;&lt;task2Template&gt;&gt;&quot;,
            &quot;isTemplate&quot; : false,
            &quot;objectversion&quot; : &quot;1.0&quot;
          } ],
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        }, {
          &quot;type&quot; : &quot;Recipient&quot;,
          &quot;operator&quot; : &quot;ContainsAll&quot;,
          &quot;variable&quot; : &quot;Assignee&quot;,
          &quot;arguments&quot; : [ ],
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        }, {
          &quot;type&quot; : &quot;AffiliatedRecord&quot;,
          &quot;operator&quot; : &quot;ContainsAll&quot;,
          &quot;variable&quot; : &quot;Patient&quot;,
          &quot;arguments&quot; : [ ],
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        }, {
          &quot;type&quot; : &quot;State&quot;,
          &quot;operator&quot; : &quot;Equals&quot;,
          &quot;arguments&quot; : [ {
            &quot;value&quot; : &quot;ClosedSuccessfully&quot;,
            &quot;isTemplate&quot; : false,
            &quot;objectversion&quot; : &quot;1.0&quot;
          } ],
          &quot;isTemplate&quot; : false,
          &quot;objectversion&quot; : &quot;1.0&quot;
        } ],
        &quot;conditions&quot; : [ ],
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Drl:
rule 'nested AND/OR'
when
  $_collector : Collector()
  $Assignee : Person()
  $Patient : Person()
  $_eventX : IRuleEvent()
  (
    $task0 : Task(parentTemplateID == '&lt;&lt;task1Template&gt;&gt;', affiliatedRecordsList contains $Patient.id, lifeCycleState == com.bjond.persistence.task.BjondTask.TASK_LIFECYCLE_STATES.Closed, resolutionState == com.bjond.persistence.task.BjondTask.TASK_RESOLUTION.Success)
    or
    (
      eval( DroolsStaticFunctions.relationshipExists($Patient.id, 'ManagedByPlaceholderForID', $Assignee.id) )
      and
      $task1 : Task(parentTemplateID == '&lt;&lt;task2Template&gt;&gt;', recipientList contains $Assignee.userId, affiliatedRecordsList contains $Patient.id, lifeCycleState == com.bjond.persistence.task.BjondTask.TASK_LIFECYCLE_STATES.Closed, resolutionState == com.bjond.persistence.task.BjondTask.TASK_RESOLUTION.Success)
    )
  )
then
end

Rule:
{
  &quot;id&quot; : &quot;&lt;&lt;fake_rule_ID&gt;&gt;&quot;,
  &quot;name&quot; : &quot;questionTimeConstraint1&quot;,
  &quot;variables&quot; : [ {
    &quot;name&quot; : &quot;Primary_Person&quot;,
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;conditions&quot; : [ {
    &quot;type&quot; : &quot;QuestionResponse&quot;,
    &quot;event&quot; : false,
    &quot;exists&quot; : false,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;ParentTemplateID&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1234567890&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;operator&quot; : &quot;Equals&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Response&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;Yes&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Time&quot;,
      &quot;operator&quot; : &quot;AfterSpan&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;6&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;conditions&quot; : [ ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;consequences&quot; : [ {
    &quot;type&quot; : &quot;AddTag&quot;,
    &quot;constraints&quot; : [ {
      &quot;type&quot; : &quot;Person&quot;,
      &quot;variable&quot; : &quot;Primary_Person&quot;,
      &quot;arguments&quot; : [ ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    }, {
      &quot;type&quot; : &quot;Tags&quot;,
      &quot;arguments&quot; : [ {
        &quot;value&quot; : &quot;1111&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      }, {
        &quot;value&quot; : &quot;2222&quot;,
        &quot;isTemplate&quot; : false,
        &quot;objectversion&quot; : &quot;1.0&quot;
      } ],
      &quot;isTemplate&quot; : false,
      &quot;objectversion&quot; : &quot;1.0&quot;
    } ],
    &quot;isTemplate&quot; : false,
    &quot;objectversion&quot; : &quot;1.0&quot;
  } ],
  &quot;isTemplate&quot; : false,
  &quot;objectversion&quot; : &quot;1.0&quot;
}
Exception: Time span requires even number of arguments; instead found this: [{&quot;value&quot;:&quot;6&quot;,&quot;isTemplate&quot;:false,&quot;objectversion&quot;:&quot;1.0&quot;}]
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 2.11</a> at May 11, 2016 10:33:42 AM</p>
</div>
</div>
</body>
</html>
